<style>
/* ç›¸ç¶šã‚¬ãƒªç‰ˆé…ä¿¡å±¥æ­´ã®ã‚¹ã‚¿ã‚¤ãƒ« */
.inheritance-gali-container * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

.inheritance-gali-container {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #ffffff;
    min-height: 100vh;
    padding: 20px;
}

.inheritance-gali-container .container {
    max-width: 1200px;
    margin: 0 auto;
    background: white;
    border-radius: 15px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    overflow: hidden;
}

.inheritance-gali-container .header {
    background: #142464;
    color: white;
    padding: 30px;
    text-align: center;
}

.inheritance-gali-container .header h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
    font-weight: 300;
}

.inheritance-gali-container .header p {
    font-size: 1.1rem;
    opacity: 0.9;
}

.inheritance-gali-container .controls {
    padding: 30px;
    background: #f8f9fa;
    border-bottom: 1px solid #e9ecef;
}

.inheritance-gali-container .search-filter {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    align-items: center;
}

.inheritance-gali-container .search-box {
    flex: 1;
    min-width: 300px;
    position: relative;
}

.inheritance-gali-container .search-box input {
    width: 100%;
    padding: 12px 20px;
    border: 2px solid #e9ecef;
    border-radius: 25px;
    font-size: 16px;
    transition: all 0.3s ease;
}

.inheritance-gali-container .search-box input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

.inheritance-gali-container .filter-group {
    display: flex;
    gap: 15px;
    align-items: center;
}

.inheritance-gali-container .filter-group select {
    padding: 10px 15px;
    border: 2px solid #e9ecef;
    border-radius: 20px;
    background: white;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.inheritance-gali-container .filter-group select:focus {
    outline: none;
    border-color: #667eea;
}

.inheritance-gali-container .bookmarks-container {
    padding: 30px;
}

.inheritance-gali-container .bookmark-item {
    background: white;
    border: 1px solid #e9ecef;
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 20px;
    transition: all 0.3s ease;
    cursor: pointer;
}

.inheritance-gali-container .bookmark-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    border-color: #667eea;
}

.inheritance-gali-container .bookmark-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 15px;
}

.inheritance-gali-container .bookmark-title {
    font-size: 1.2rem;
    font-weight: 600;
    color: #333;
    margin-bottom: 5px;
}

.inheritance-gali-container .bookmark-description {
    font-size: 0.95rem;
    color: #666;
    line-height: 1.5;
    margin-bottom: 10px;
    max-width: 600px;
}

.inheritance-gali-container .bookmark-url {
    color: #667eea;
    text-decoration: none;
    font-size: 0.9rem;
    word-break: break-all;
}

.inheritance-gali-container .bookmark-url:hover {
    text-decoration: underline;
}

.inheritance-gali-container .bookmark-meta {
    display: flex;
    gap: 20px;
    font-size: 0.85rem;
    color: #6c757d;
    flex-wrap: wrap;
}

.inheritance-gali-container .meta-item {
    display: flex;
    align-items: center;
    gap: 5px;
}

.inheritance-gali-container .pagination {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 30px;
    margin-bottom: 30px;
}

.inheritance-gali-container .page-btn {
    padding: 10px 15px;
    border: 1px solid #e9ecef;
    background: white;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.inheritance-gali-container .page-btn:hover,
.inheritance-gali-container .page-btn.active {
    background: #667eea;
    color: white;
    border-color: #667eea;
}

.inheritance-gali-container .no-results {
    text-align: center;
    padding: 50px;
    color: #6c757d;
}

.inheritance-gali-container .no-results h3 {
    margin-bottom: 10px;
    color: #333;
}

@media (max-width: 768px) {
    .inheritance-gali-container .header h1 {
        font-size: 2rem;
    }

    .inheritance-gali-container .search-filter {
        flex-direction: column;
        align-items: stretch;
    }

    .inheritance-gali-container .search-box {
        min-width: auto;
    }

    .inheritance-gali-container .filter-group {
        justify-content: center;
    }

    .inheritance-gali-container .stats {
        justify-content: center;
    }

    .inheritance-gali-container .bookmark-header {
        flex-direction: column;
        gap: 10px;
    }

    .inheritance-gali-container .bookmark-meta {
        flex-direction: column;
        gap: 10px;
    }
}
</style>

<div class="inheritance-gali-container">
    <div class="container">
        <div class="header">
            <h1>ğŸ“š ç›¸ç¶šã‚¬ãƒªç‰ˆé…ä¿¡å±¥æ­´</h1>
            <p>éå»ã«é…ä¿¡ã—ãŸç›¸ç¶šã‚¬ãƒªç‰ˆã‚’ç¢ºèªã§ãã¾ã™</p>
        </div>

        <div class="controls">
            <div class="search-filter">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="ç›¸ç¶šã‚¬ãƒªç‰ˆã‚’æ¤œç´¢..." onkeyup="filterBookmarks()">
                </div>
            </div>
        </div>

        <div class="bookmarks-container" id="bookmarksContainer">
            <!-- ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚¢ã‚¤ãƒ†ãƒ ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
        </div>

        <div class="pagination" id="pagination">
            <!-- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
        </div>
    </div>
</div>

<script>
// ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
const inheritanceGali = [
    {
        title: "ãƒ“ã‚¸ãƒã‚¹ã‚¬ãƒªç‰ˆ508å·",
        description: "ãƒ¬ãƒƒãƒ„ç›¸ç¶šç”³å‘Š(No.9) / ç›¸ç¶šé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹ ãªã©",
        url: "https://miocci.com/wp-content/uploads/2025/08/inheritance_newsletter_508.pdf",
        date: "2025å¹´08æœˆ18æ—¥",
        publishDate: "2025/08/18 10:00:00" // å…¬é–‹æ—¥æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“ï¼‰
    },
    {
        title: "ãƒ“ã‚¸ãƒã‚¹ã‚¬ãƒªç‰ˆ507å·",
        description: "ãƒ¬ãƒƒãƒ„ç›¸ç¶šç”³å‘Š(No.8) / ç›¸ç¶šé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹ ãªã©",
        url: "https://miocci.com/wp-content/uploads/2025/08/inheritance_newsletter_507.pdf",
        date: "2025å¹´08æœˆ11æ—¥",
        publishDate: "2025/08/11 10:00:00" // å…¬é–‹æ—¥æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“ï¼‰
    },
    {
        title: "ãƒ“ã‚¸ãƒã‚¹ã‚¬ãƒªç‰ˆ506å·",
        description: "ãƒ¬ãƒƒãƒ„ç›¸ç¶šç”³å‘Š(No.7) / ç›¸ç¶šé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹ ãªã©",
        url: "https://miocci.com/wp-content/uploads/2025/07/inheritance_newsletter_506.pdf",
        date: "2025å¹´07æœˆ28æ—¥",
        publishDate: "2025/07/28 10:00:00" // å…¬é–‹æ—¥æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“ï¼‰
    },
    {
        title: "ãƒ“ã‚¸ãƒã‚¹ã‚¬ãƒªç‰ˆ505å·",
        description: "ãƒ¬ãƒƒãƒ„ç›¸ç¶šç”³å‘Š(No.6) / ç›¸ç¶šé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹ ãªã©",
        url: "https://miocci.com/wp-content/uploads/2025/07/inheritance_newsletter_505.pdf",
        date: "2025å¹´07æœˆ21æ—¥",
        publishDate: "2025/07/21 10:00:00" // å…¬é–‹æ—¥æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“ï¼‰
    },
    {
        title: "ãƒ“ã‚¸ãƒã‚¹ã‚¬ãƒªç‰ˆ504å·",
        description: "ãƒ¬ãƒƒãƒ„ç›¸ç¶šç”³å‘Š(No.5) / ç›¸ç¶šé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹ ãªã©",
        url: "https://miocci.com/wp-content/uploads/2025/06/inheritance_newsletter_504_2.pdf",
        date: "2025å¹´06æœˆ30æ—¥",
        publishDate: "2025/06/30 10:00:00" // å…¬é–‹æ—¥æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“ï¼‰
    },
    {
        title: "ãƒ“ã‚¸ãƒã‚¹ã‚¬ãƒªç‰ˆ503å·",
        description: "ãƒ¬ãƒƒãƒ„ç›¸ç¶šç”³å‘Š(No.4) / ç›¸ç¶šé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹ ãªã©",
        url: "https://miocci.com/wp-content/uploads/2025/05/inheritance_newsletter_503.pdf",
        date: "2025å¹´05æœˆ26æ—¥",
        publishDate: "2025/05/26 10:00:00" // å…¬é–‹æ—¥æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“ï¼‰
    },
    {
        title: "ãƒ“ã‚¸ãƒã‚¹ã‚¬ãƒªç‰ˆ502å·",
        description: "ãƒ¬ãƒƒãƒ„ç›¸ç¶šç”³å‘Š(No.3) / ç›¸ç¶šé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹ ãªã©",
        url: "https://miocci.com/wp-content/uploads/2025/05/inheritance_newsletter_502.pdf",
        date: "2025å¹´05æœˆ19æ—¥",
        publishDate: "2025/05/19 10:00:00" // å…¬é–‹æ—¥æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“ï¼‰
    },
    {
        title: "ãƒ“ã‚¸ãƒã‚¹ã‚¬ãƒªç‰ˆ501å·",
        description: "ãƒ¬ãƒƒãƒ„ç›¸ç¶šç”³å‘Š(No.2) / ç›¸ç¶šé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹ ãªã©",
        url: "https://miocci.com/wp-content/uploads/2025/08/inheritance_newsletter_501.pdf",
        date: "2025å¹´05æœˆ12æ—¥",
        publishDate: "2025/05/12 10:00:00" // å…¬é–‹æ—¥æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“ï¼‰
    },
    {
        title: "ãƒ“ã‚¸ãƒã‚¹ã‚¬ãƒªç‰ˆ500å·",
        description: "ãƒ¬ãƒƒãƒ„ç›¸ç¶šç”³å‘Š(No.1) / ç›¸ç¶šé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹ ãªã©",
        url: "https://miocci.com/wp-content/uploads/2025/08/inheritance_newsletter_500.pdf",
        date: "2025å¹´05æœˆ05æ—¥",
        publishDate: "2025/05/05 10:00:00" // å…¬é–‹æ—¥æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“ï¼‰
    }
];

let filteredInheritanceGali = [...inheritanceGali];
let currentPage = 1;
const itemsPerPage = 5;

// å…¬é–‹æœŸé™ãƒã‚§ãƒƒã‚¯é–¢æ•°ï¼ˆç§’ã¾ã§å«ã‚€ã€æ—¥æœ¬æ™‚é–“ï¼‰
function isPublishTimeReached(publishDateString) {
    // ç¾åœ¨æ™‚åˆ»ã‚’å–å¾—
    const now = new Date();
    
    // yyyy/mm/dd hh:mm:sså½¢å¼ã‚’Dateã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›
    // æ—¥æœ¬æ™‚é–“ã¨ã—ã¦è§£é‡ˆã™ã‚‹ãŸã‚ã€UTC+9ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’è¨­å®š
    const [datePart, timePart] = publishDateString.split(' ');
    const [year, month, day] = datePart.split('/');
    const [hour, minute, second] = timePart.split(':');
    
    // æ—¥æœ¬æ™‚é–“ã®Dateã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
    const publishDate = new Date(year, month - 1, day, hour, minute, second);
    
    // ç¾åœ¨æ™‚åˆ»ãŒå…¬é–‹æœŸé™ä»¥é™ã‹ã©ã†ã‹ã‚’ç§’ã¾ã§åˆ¤å®š
    return now >= publishDate;
}

// å…¬é–‹æœŸé™ã«åŸºã¥ã„ã¦ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
function filterByPublishDate() {
    return inheritanceGali.filter(item => {
        return isPublishTimeReached(item.publishDate);
    });
}

// åˆæœŸè¡¨ç¤º
document.addEventListener('DOMContentLoaded', function() {
    // å…¬é–‹æœŸé™ã«åŸºã¥ã„ã¦ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
    filteredInheritanceGali = filterByPublishDate();
    displayInheritanceGali();
    updatePagination();
});

function filterBookmarks() {
    const searchTerm = document.getElementById('searchInput').value.toLowerCase();

    // ã¾ãšå…¬é–‹æœŸé™ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
    const publishFilteredItems = filterByPublishDate();
    
    // æ¬¡ã«æ¤œç´¢æ¡ä»¶ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
    filteredInheritanceGali = publishFilteredItems.filter(item => {
        const matchesSearch = item.title.toLowerCase().includes(searchTerm);

        return matchesSearch;
    });

    currentPage = 1;
    displayInheritanceGali();
    updatePagination();
}

function displayInheritanceGali() {
    const container = document.getElementById('bookmarksContainer');
    const startIndex = (currentPage - 1) * itemsPerPage;
    const endIndex = startIndex + itemsPerPage;
    const pageItems = filteredInheritanceGali.slice(startIndex, endIndex);

    if (pageItems.length === 0) {
        container.innerHTML = `
            <div class="no-results">
                <h3>ğŸ” æ¤œç´¢çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</h3>
                <p>æ¤œç´¢æ¡ä»¶ã‚’å¤‰æ›´ã—ã¦ãŠè©¦ã—ãã ã•ã„</p>
            </div>
        `;
        return;
    }

    container.innerHTML = pageItems.map(item => `
        <div class="bookmark-item">
            <div class="bookmark-header">
                <div>
                    <div class="bookmark-title">
                        <a href="${item.url}" target="_blank" style="color: inherit; text-decoration: none;">${item.title}</a>
                    </div>
                    <div class="bookmark-description">
                        ${item.description}
                    </div>
                </div>
                <div class="bookmark-meta">
                    <div class="meta-item">
                        <span>ğŸ“…</span>
                        <span>${formatDate(item.date)}</span>
                    </div>
                </div>
            </div>
        </div>
    `).join('');
}

function formatDate(dateString) {
    // æ—¥æœ¬èªã®æ—¥ä»˜å½¢å¼ï¼ˆYYYYå¹´MMæœˆDDæ—¥ï¼‰ã®å ´åˆã¯ã€Œç™ºè¡Œã€ã‚’è¿½åŠ 
    if (dateString.includes('å¹´') && dateString.includes('æœˆ') && dateString.includes('æ—¥')) {
        return dateString + 'ç™ºè¡Œ';
    }
    
    // é€šå¸¸ã®æ—¥ä»˜å½¢å¼ã®å ´åˆã¯å¤‰æ›ã™ã‚‹
    const date = new Date(dateString);
    if (isNaN(date.getTime())) {
        return dateString; // ç„¡åŠ¹ãªæ—¥ä»˜ã®å ´åˆã¯å…ƒã®æ–‡å­—åˆ—ã‚’è¿”ã™
    }
    return date.toLocaleDateString('ja-JP', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    }) + 'ç™ºè¡Œ';
}

function updatePagination() {
    const totalPages = Math.ceil(filteredInheritanceGali.length / itemsPerPage);
    const pagination = document.getElementById('pagination');

    if (totalPages <= 1) {
        pagination.innerHTML = '';
        return;
    }

    let paginationHTML = '';

    // å‰ã®ãƒšãƒ¼ã‚¸ãƒœã‚¿ãƒ³
    if (currentPage > 1) {
        paginationHTML += `<button class="page-btn" onclick="goToPage(${currentPage - 1})">â† å‰ã¸</button>`;
    }

    // ãƒšãƒ¼ã‚¸ç•ªå·
    for (let i = 1; i <= totalPages; i++) {
        if (i === currentPage) {
            paginationHTML += `<button class="page-btn active">${i}</button>`;
        } else {
            paginationHTML += `<button class="page-btn" onclick="goToPage(${i})">${i}</button>`;
        }
    }

    // æ¬¡ã®ãƒšãƒ¼ã‚¸ãƒœã‚¿ãƒ³
    if (currentPage < totalPages) {
        paginationHTML += `<button class="page-btn" onclick="goToPage(${currentPage + 1})">æ¬¡ã¸ â†’</button>`;
    }

    pagination.innerHTML = paginationHTML;
}

function goToPage(page) {
    currentPage = page;
    displayInheritanceGali();
    updatePagination();
}

function openItem(url) {
    window.open(url, '_blank');
}
</script>
